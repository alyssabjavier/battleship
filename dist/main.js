(()=>{"use strict";var e={208:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(354),a=r.n(n),i=r(314),o=r.n(i)()(a());o.push([e.id,".container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n}\n\n.user-board-div {\n    /* max-height: 600px;\n    max-width: 600px; */\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.ai-board-div {\n    /* max-height: 600px;\n    max-width: 600px; */\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.grid-cell {\n    border: 1px solid #ccc;\n    min-height: 30px;\n    min-width: 30px;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,8BAA8B;IAC9B,SAAS;AACb;;AAEA;IACI;uBACmB;IACnB,aAAa;IACb,sCAAsC;IACtC,mCAAmC;AACvC;;AAEA;IACI;uBACmB;IACnB,aAAa;IACb,sCAAsC;IACtC,mCAAmC;AACvC;;AAEA;IACI,sBAAsB;IACtB,gBAAgB;IAChB,eAAe;AACnB",sourcesContent:[".container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n}\n\n.user-board-div {\n    /* max-height: 600px;\n    max-width: 600px; */\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.ai-board-div {\n    /* max-height: 600px;\n    max-width: 600px; */\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n}\n\n.grid-cell {\n    border: 1px solid #ccc;\n    min-height: 30px;\n    min-width: 30px;\n}"],sourceRoot:""}]);const s=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},354:e=>{e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(a," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],d=n.base?l[0]+n.base:l[0],c=i[d]||0,p="".concat(d," ").concat(c);i[d]=c+1;var u=r(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var f=a(h,n);n.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}o.push(p)}return o}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var l=n(e,a),d=0;d<i.length;d++){var c=r(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{var e=r(72),t=r.n(e),n=r(825),a=r.n(n),i=r(659),o=r.n(i),s=r(56),l=r.n(s),d=r(540),c=r.n(d),p=r(113),u=r.n(p),h=r(208),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=o().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=c(),t()(h.A,f),h.A&&h.A.locals&&h.A.locals;class A{constructor(e,t){this.type=e,this.length=t,this.hitCount=0,this.sunkStatus=this.isSunk()}hit(){this.hitCount++,this.sunkStatus=this.isSunk()}isSunk(){return this.hitCount>=this.length}}class g{constructor(){this.grid=this.initializeGrid(),this.ships=this.initializeShips()}initializeGrid(){const e=new Array(10);for(let t=0;t<10;t++){e[t]=new Array(10);for(let r=0;r<10;r++)e[t][r]=null}return e}initializeShips(){const e=[],t=new A("kayak",2),r=new A("sailboat",3),n=new A("pontoon",3),a=new A("yacht",4),i=new A("cruise",5);return e.push(t),e.push(r),e.push(n),e.push(a),e.push(i),e}placeShip(e,t,r,n){r-=1,t-=1;const a=e.length;if(this.ships.push(e),"horizontal"==n){if(r+a>10)return"error - ship cannot be placed outside of bounds of the gameboard";this.grid[t][r]=e;for(let n=0;n<a;n++)this.grid[t][r+n]=e}else if("vertical"==n){if(t+a>10)return"error - ship cannot be placed outside of bounds of the gameboard";this.grid[t][r]=e;for(let n=0;n<a;n++)this.grid[t+n][r]=e}return this.grid}receiveAttack(e,t){return t-=1,e-=1,"M"==this.grid[e][t]||"H"==this.grid[e][t]?"error - coordinate already marked":(null==this.grid[e][t]?this.grid[e][t]="M":(this.grid[e][t].hit(),this.grid[e][t]="H"),this.grid)}areShipsSunk(){let e=0;return this.ships.forEach((t=>{t.sunkStatus&&e++})),e==this.ships.length}}class m{constructor(e){this.type=e,this.board=new g}}document.querySelector(".container"),document.querySelector(".user-ui"),document.querySelector(".ai-ui");const y=document.querySelector(".user-board-div"),v=document.querySelector(".ai-board-div"),b={playerUser:null,playerAI:null,activePlayer:null,initializeGame(){this.playerUser=new m("User"),this.playerAI=new m("AI"),this.generateGameboard(y,this.playerUser),this.generateGameboard(v,this.playerAI)},generateGridCell(e,t,r,n){const a=document.createElement("div");a.classList.add("grid-cell"),a.setAttribute("data-player",n.type),a.setAttribute("data-row",e+1),a.setAttribute("data-column",t+1),a.textContent="",r.appendChild(a),a.addEventListener("click",(e=>this.handleBoardClick(e)))},generateGameboard(e,t){for(let r=0;r<10;r++)for(let n=0;n<10;n++)this.generateGridCell(r,n,e,t)},updateCell(e,t,r){const n=document.querySelector(`.grid-cell[data-player="${r.type}"][data-row="${e}"][data-column="${t}"]`);r==this.playerUser&&(null===r.board.grid[e-1][t-1]||"H"===r.board.grid[e-1][t-1]||"M"===r.board.grid[e-1][t-1]?n.textContent=r.board.grid[e-1][t-1]:n.textContent=`${r.board.grid[e-1][t-1].type}`),r==this.playerAI&&(null===r.board.grid[e-1][t-1]||"H"===r.board.grid[e-1][t-1]||"M"===r.board.grid[e-1][t-1]?n.textContent=r.board.grid[e-1][t-1]:n.textContent=null)},handleBoardClick(e){const t=e.target.getAttribute("data-row"),r=e.target.getAttribute("data-column"),n=e.target.getAttribute("data-player");if("User"==n)this.playerUser.board.receiveAttack(t,r),this.updateCell(t,r,this.playerUser);else{if("AI"!=n)return null;this.playerAI.board.receiveAttack(t,r),this.updateCell(t,r,this.playerAI)}}};b.initializeGame(),console.log(b.playerUser),b.playerUser.board.placeShip(b.playerUser.board.ships[1],2,3,"horizontal"),console.log(b.playerUser.board),b.updateCell(2,3,b.playerUser),b.updateCell(2,4,b.playerUser),b.updateCell(2,5,b.playerUser),b.playerUser.board.receiveAttack(2,4),console.log(b.playerUser.board.grid),b.updateCell(2,4,b.playerUser),b.playerAI.board.placeShip(b.playerUser.board.ships[1],5,5,"horizontal"),b.playerAI.board.receiveAttack(5,5),b.updateCell(5,5,b.playerAI),b.updateCell(5,6,b.playerAI),b.playerUser.board.receiveAttack(1,1),b.updateCell(1,1,b.playerUser),console.log("hello world 5")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS1jb21wb25lbnRzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS1VSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICBnYXA6IDEwcHg7XG59XG5cbi51c2VyLWJvYXJkLWRpdiB7XG4gICAgLyogbWF4LWhlaWdodDogNjAwcHg7XG4gICAgbWF4LXdpZHRoOiA2MDBweDsgKi9cbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAxZnIpO1xufVxuXG4uYWktYm9hcmQtZGl2IHtcbiAgICAvKiBtYXgtaGVpZ2h0OiA2MDBweDtcbiAgICBtYXgtd2lkdGg6IDYwMHB4OyAqL1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDFmcik7XG59XG5cbi5ncmlkLWNlbGwge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgbWluLWhlaWdodDogMzBweDtcbiAgICBtaW4td2lkdGg6IDMwcHg7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixTQUFTO0FBQ2I7O0FBRUE7SUFDSTt1QkFDbUI7SUFDbkIsYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSTt1QkFDbUI7SUFDbkIsYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsZ0JBQWdCO0lBQ2hCLGVBQWU7QUFDbkJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXG4gICAgZ2FwOiAxMHB4O1xcbn1cXG5cXG4udXNlci1ib2FyZC1kaXYge1xcbiAgICAvKiBtYXgtaGVpZ2h0OiA2MDBweDtcXG4gICAgbWF4LXdpZHRoOiA2MDBweDsgKi9cXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAxZnIpO1xcbn1cXG5cXG4uYWktYm9hcmQtZGl2IHtcXG4gICAgLyogbWF4LWhlaWdodDogNjAwcHg7XFxuICAgIG1heC13aWR0aDogNjAwcHg7ICovXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG59XFxuXFxuLmdyaWQtY2VsbCB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICAgIG1pbi1oZWlnaHQ6IDMwcHg7XFxuICAgIG1pbi13aWR0aDogMzBweDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJjbGFzcyBTaGlwIHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuaGl0Q291bnQgPSAwO1xuICAgICAgICB0aGlzLnN1bmtTdGF0dXMgPSB0aGlzLmlzU3VuaygpO1xuICAgIH07XG5cbiAgICBoaXQoKSB7XG4gICAgICAgIHRoaXMuaGl0Q291bnQrKztcbiAgICAgICAgdGhpcy5zdW5rU3RhdHVzID0gdGhpcy5pc1N1bmsoKTsgLy8gdXBkYXRlIG9iamVjdCdzIHN1bmsgc3RhdHVzXG4gICAgfVxuXG4gICAgaXNTdW5rKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXRDb3VudCA+PSB0aGlzLmxlbmd0aDtcbiAgICB9XG59XG5cbmNsYXNzIEdhbWVib2FyZCB7IC8vIDEweDEwIGdyaWRcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5pbml0aWFsaXplR3JpZCgpO1xuICAgICAgICB0aGlzLnNoaXBzID0gdGhpcy5pbml0aWFsaXplU2hpcHMoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplR3JpZCgpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IDEwO1xuICAgICAgICBjb25zdCBncmlkID0gbmV3IEFycmF5KHNpemUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgZ3JpZFtpXSA9IG5ldyBBcnJheShzaXplKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgZ3JpZFtpXVtqXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiBncmlkO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVTaGlwcygpIHtcbiAgICAgICAgY29uc3Qgc2hpcHMgPSBbXTtcblxuICAgICAgICBjb25zdCBrYXlhayA9IG5ldyBTaGlwKCdrYXlhaycsIDIpOyAvLyBbMF1cbiAgICAgICAgY29uc3Qgc2FpbGJvYXQgPSBuZXcgU2hpcCgnc2FpbGJvYXQnLCAzKTsgLy8gWzFdXG4gICAgICAgIGNvbnN0IHBvbnRvb24gPSBuZXcgU2hpcCgncG9udG9vbicsIDMpOyAvLyBbMl1cbiAgICAgICAgY29uc3QgeWFjaHQgPSBuZXcgU2hpcCgneWFjaHQnLCA0KTsgLy8gWzNdXG4gICAgICAgIGNvbnN0IGNydWlzZSA9IG5ldyBTaGlwKCdjcnVpc2UnLCA1KTsgLy8gWzRdXG5cbiAgICAgICAgc2hpcHMucHVzaChrYXlhayk7XG4gICAgICAgIHNoaXBzLnB1c2goc2FpbGJvYXQpO1xuICAgICAgICBzaGlwcy5wdXNoKHBvbnRvb24pO1xuICAgICAgICBzaGlwcy5wdXNoKHlhY2h0KTtcbiAgICAgICAgc2hpcHMucHVzaChjcnVpc2UpO1xuXG4gICAgICAgIHJldHVybiBzaGlwcztcbiAgICB9XG5cbiAgICBwbGFjZVNoaXAoc2hpcE9iamVjdCwgcm93LCBjb2x1bW4sIGRpcmVjdGlvbikge1xuICAgICAgICBjb2x1bW4gPSBjb2x1bW4gLSAxO1xuICAgICAgICByb3cgPSByb3cgLSAxO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzaGlwT2JqZWN0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5zaGlwcy5wdXNoKHNoaXBPYmplY3QpO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBpZiAoY29sdW1uICsgbGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Vycm9yIC0gc2hpcCBjYW5ub3QgYmUgcGxhY2VkIG91dHNpZGUgb2YgYm91bmRzIG9mIHRoZSBnYW1lYm9hcmQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRbcm93XVtjb2x1bW5dID0gc2hpcE9iamVjdDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFtyb3ddW2NvbHVtbiArIGldID0gc2hpcE9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICAgIFxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgaWYgKHJvdyArIGxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdlcnJvciAtIHNoaXAgY2Fubm90IGJlIHBsYWNlZCBvdXRzaWRlIG9mIGJvdW5kcyBvZiB0aGUgZ2FtZWJvYXJkJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkW3Jvd11bY29sdW1uXSA9IHNoaXBPYmplY3Q7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRbcm93ICsgaV1bY29sdW1uXSA9IHNoaXBPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZDtcbiAgICB9XG5cbiAgICByZWNlaXZlQXR0YWNrKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGNvbHVtbiA9IGNvbHVtbiAtIDE7XG4gICAgICAgIHJvdyA9IHJvdyAtIDE7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JpZFtyb3ddW2NvbHVtbl0gPT0gJ00nIHx8IHRoaXMuZ3JpZFtyb3ddW2NvbHVtbl0gPT0gJ0gnKSB7IC8vIGlmIGFscmVhZHkgaGl0IG9yIG1pc3NlZFxuICAgICAgICAgICAgcmV0dXJuICdlcnJvciAtIGNvb3JkaW5hdGUgYWxyZWFkeSBtYXJrZWQnXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ3JpZFtyb3ddW2NvbHVtbl0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ncmlkW3Jvd11bY29sdW1uXSA9ICdNJzsgLy8gTSA9IG1pc3NcbiAgICAgICAgfSBcblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFtyb3ddW2NvbHVtbl0uaGl0KCk7XG4gICAgICAgICAgICB0aGlzLmdyaWRbcm93XVtjb2x1bW5dID0gJ0gnOyAvLyBIID0gaGl0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLmdyaWQ7XG4gICAgfVxuXG4gICAgYXJlU2hpcHNTdW5rKCkge1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNoaXAuc3Vua1N0YXR1cykge1xuICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGNvdW50ZXIgPT0gdGhpcy5zaGlwcy5sZW5ndGg7XG4gICAgfVxufVxuXG5jbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5ib2FyZCA9IG5ldyBHYW1lYm9hcmQ7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IiwiaW1wb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tIFwiLi9nYW1lLWNvbXBvbmVudHNcIjtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuY29uc3QgdXNlclVJID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItdWknKTtcbmNvbnN0IEFJVUkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWktdWknKVxuY29uc3QgdXNlckJvYXJkRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItYm9hcmQtZGl2JylcbmNvbnN0IEFJQm9hcmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWktYm9hcmQtZGl2JylcblxuY29uc3QgZ2FtZVVJID0ge1xuICAgIFxuICAgIHBsYXllclVzZXI6IG51bGwsXG4gICAgcGxheWVyQUk6IG51bGwsXG4gICAgYWN0aXZlUGxheWVyOiBudWxsLFxuXG4gICAgaW5pdGlhbGl6ZUdhbWUoKSB7XG4gICAgICAgIHRoaXMucGxheWVyVXNlciA9IG5ldyBQbGF5ZXIoJ1VzZXInKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJBSSA9IG5ldyBQbGF5ZXIoJ0FJJyk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVHYW1lYm9hcmQodXNlckJvYXJkRGl2LCB0aGlzLnBsYXllclVzZXIpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlR2FtZWJvYXJkKEFJQm9hcmREaXYsIHRoaXMucGxheWVyQUkpO1xuICAgIH0sXG5cbiAgICBnZW5lcmF0ZUdyaWRDZWxsKHJvdywgY29sdW1uLCBib2FyZERpdiwgcGxheWVyKSB7XG4gICAgICAgIGNvbnN0IGdyaWRDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGdyaWRDZWxsLmNsYXNzTGlzdC5hZGQoJ2dyaWQtY2VsbCcpO1xuICAgICAgICBncmlkQ2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGxheWVyJywgcGxheWVyLnR5cGUpO1xuICAgICAgICBncmlkQ2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm93JywgKHJvdyArIDEpKTtcbiAgICAgICAgZ3JpZENlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvbHVtbicsIChjb2x1bW4gKyAxKSk7XG4gICAgICAgIGdyaWRDZWxsLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGJvYXJkRGl2LmFwcGVuZENoaWxkKGdyaWRDZWxsKTtcblxuICAgICAgICBncmlkQ2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5oYW5kbGVCb2FyZENsaWNrKGV2ZW50KSk7XG4gICAgfSxcblxuICAgIGdlbmVyYXRlR2FtZWJvYXJkKGJvYXJkRGl2LCBwbGF5ZXIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlR3JpZENlbGwoaSwgaiwgYm9hcmREaXYsIHBsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlQ2VsbChyb3csIGNvbHVtbiwgcGxheWVyKSB7XG4gICAgICAgIGNvbnN0IGdyaWRDZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmdyaWQtY2VsbFtkYXRhLXBsYXllcj1cIiR7cGxheWVyLnR5cGV9XCJdW2RhdGEtcm93PVwiJHtyb3d9XCJdW2RhdGEtY29sdW1uPVwiJHtjb2x1bW59XCJdYCk7XG4gICAgICAgIGlmIChwbGF5ZXIgPT0gdGhpcy5wbGF5ZXJVc2VyKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLmJvYXJkLmdyaWRbcm93LTFdW2NvbHVtbi0xXSA9PT0gbnVsbCB8fCBcbiAgICAgICAgICAgICAgICBwbGF5ZXIuYm9hcmQuZ3JpZFtyb3ctMV1bY29sdW1uLTFdID09PSAnSCcgfHwgXG4gICAgICAgICAgICAgICAgcGxheWVyLmJvYXJkLmdyaWRbcm93LTFdW2NvbHVtbi0xXSA9PT0gJ00nKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRDZWxsLnRleHRDb250ZW50ID0gcGxheWVyLmJvYXJkLmdyaWRbcm93LTFdW2NvbHVtbi0xXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBncmlkQ2VsbC50ZXh0Q29udGVudCA9IGAke3BsYXllci5ib2FyZC5ncmlkW3Jvdy0xXVtjb2x1bW4tMV0udHlwZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxheWVyID09IHRoaXMucGxheWVyQUkpIHtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuYm9hcmQuZ3JpZFtyb3ctMV1bY29sdW1uLTFdID09PSBudWxsIHx8IFxuICAgICAgICAgICAgICAgIHBsYXllci5ib2FyZC5ncmlkW3Jvdy0xXVtjb2x1bW4tMV0gPT09ICdIJyB8fCBcbiAgICAgICAgICAgICAgICBwbGF5ZXIuYm9hcmQuZ3JpZFtyb3ctMV1bY29sdW1uLTFdID09PSAnTScpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZENlbGwudGV4dENvbnRlbnQgPSBwbGF5ZXIuYm9hcmQuZ3JpZFtyb3ctMV1bY29sdW1uLTFdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRDZWxsLnRleHRDb250ZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlQm9hcmRDbGljayhldmVudCkge1xuICAgICAgICBjb25zdCByb3cgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJvdycpO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbHVtbicpO1xuICAgICAgICBjb25zdCBwbGF5ZXIgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYXllcicpO1xuICAgICAgICBpZiAocGxheWVyID09ICdVc2VyJykge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJVc2VyLmJvYXJkLnJlY2VpdmVBdHRhY2socm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDZWxsKHJvdywgY29sdW1uLCB0aGlzLnBsYXllclVzZXIpO1xuICAgICAgICAgICAgLy8gdGhpcy5hY3RpdmVQbGF5ZXIgPSB0aGlzLnBsYXllckFJO1xuICAgICAgICB9IGVsc2UgaWYgKHBsYXllciA9PSAnQUknKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckFJLmJvYXJkLnJlY2VpdmVBdHRhY2socm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDZWxsKHJvdywgY29sdW1uLCB0aGlzLnBsYXllckFJKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYWN0aXZlUGxheWVyID0gdGhpcy5wbGF5ZXJVc2VyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZ2FtZVVJLmluaXRpYWxpemVHYW1lKCk7XG5jb25zb2xlLmxvZyhnYW1lVUkucGxheWVyVXNlcik7XG5cbmdhbWVVSS5wbGF5ZXJVc2VyLmJvYXJkLnBsYWNlU2hpcChnYW1lVUkucGxheWVyVXNlci5ib2FyZC5zaGlwc1sxXSwgMiwgMywgJ2hvcml6b250YWwnKTtcbmNvbnNvbGUubG9nKGdhbWVVSS5wbGF5ZXJVc2VyLmJvYXJkKTtcblxuZ2FtZVVJLnVwZGF0ZUNlbGwoMiwgMywgZ2FtZVVJLnBsYXllclVzZXIpO1xuZ2FtZVVJLnVwZGF0ZUNlbGwoMiwgNCwgZ2FtZVVJLnBsYXllclVzZXIpO1xuZ2FtZVVJLnVwZGF0ZUNlbGwoMiwgNSwgZ2FtZVVJLnBsYXllclVzZXIpO1xuXG5nYW1lVUkucGxheWVyVXNlci5ib2FyZC5yZWNlaXZlQXR0YWNrKDIsIDQpO1xuY29uc29sZS5sb2coZ2FtZVVJLnBsYXllclVzZXIuYm9hcmQuZ3JpZCk7XG5nYW1lVUkudXBkYXRlQ2VsbCgyLCA0LCBnYW1lVUkucGxheWVyVXNlcik7XG5cbmdhbWVVSS5wbGF5ZXJBSS5ib2FyZC5wbGFjZVNoaXAoZ2FtZVVJLnBsYXllclVzZXIuYm9hcmQuc2hpcHNbMV0sIDUsIDUsICdob3Jpem9udGFsJyk7XG5nYW1lVUkucGxheWVyQUkuYm9hcmQucmVjZWl2ZUF0dGFjayg1LDUpO1xuZ2FtZVVJLnVwZGF0ZUNlbGwoNSwgNSwgZ2FtZVVJLnBsYXllckFJKTtcbmdhbWVVSS51cGRhdGVDZWxsKDUsIDYsIGdhbWVVSS5wbGF5ZXJBSSk7XG5cbmdhbWVVSS5wbGF5ZXJVc2VyLmJvYXJkLnJlY2VpdmVBdHRhY2soMSwxKTtcbmdhbWVVSS51cGRhdGVDZWxsKDEsIDEsIGdhbWVVSS5wbGF5ZXJVc2VyKTtcblxuXG5leHBvcnQgeyBnYW1lVUkgfSIsImltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tICcuL2dhbWUtY29tcG9uZW50cydcbmltcG9ydCB7IGluaXRpYWxpemVHYW1lIH0gZnJvbSAnLi9nYW1lLVVJJ1xuXG5jb25zb2xlLmxvZygnaGVsbG8gd29ybGQgNScpXG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwibG9jYWxzIiwiU2hpcCIsImNvbnN0cnVjdG9yIiwidHlwZSIsImhpdENvdW50Iiwic3Vua1N0YXR1cyIsImlzU3VuayIsImhpdCIsIkdhbWVib2FyZCIsImdyaWQiLCJpbml0aWFsaXplR3JpZCIsInNoaXBzIiwiaW5pdGlhbGl6ZVNoaXBzIiwiQXJyYXkiLCJqIiwia2F5YWsiLCJzYWlsYm9hdCIsInBvbnRvb24iLCJ5YWNodCIsImNydWlzZSIsInBsYWNlU2hpcCIsInNoaXBPYmplY3QiLCJyb3ciLCJjb2x1bW4iLCJkaXJlY3Rpb24iLCJyZWNlaXZlQXR0YWNrIiwiYXJlU2hpcHNTdW5rIiwiY291bnRlciIsImZvckVhY2giLCJzaGlwIiwiUGxheWVyIiwiYm9hcmQiLCJ1c2VyQm9hcmREaXYiLCJBSUJvYXJkRGl2IiwiZ2FtZVVJIiwicGxheWVyVXNlciIsInBsYXllckFJIiwiYWN0aXZlUGxheWVyIiwiaW5pdGlhbGl6ZUdhbWUiLCJnZW5lcmF0ZUdhbWVib2FyZCIsImdlbmVyYXRlR3JpZENlbGwiLCJib2FyZERpdiIsInBsYXllciIsImdyaWRDZWxsIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJoYW5kbGVCb2FyZENsaWNrIiwidXBkYXRlQ2VsbCIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9